"use strict";!function(s,t,e){e(t).ready(function(t){var e=s.Site;e.run();t(".shortlist-icon").on("click",function(s){s.preventDefault();var o=t(this),r=o.parent().parent().data("bike");!0===o.data("is-checked")?t.ajax({url:"/shortlist/remove",method:"post",data:{bike:r},success:function(s){if(!1,s.success||(void 0!==s.errorCode&&"NOT_LOGGED_IN"===s.errorCode?(t("#login-modal").modal("show"),t("[href=#login-tab]").tab("show"),e.showErrorToast(s.message)):e.showErrorToast(s.message)),s.success){e.showSuccessToast(s.message);var r=parseInt(t(".shortlist-count").text().replace("Shortlist (","").replace(")",""));r-=1,t(".shortlist-count").text("Shortlist ("+r+")"),o.removeClass("fa-heart text-primary").addClass("fa-heart-o text-primary"),o.data("is-checked",!1)}}}):t.ajax({url:"/shortlist/request",method:"post",data:{bike:r},success:function(s){if(!1,s.success||(void 0!==s.errorCode&&"NOT_LOGGED_IN"===s.errorCode?(t("#login-modal").modal("show"),t("[href=#login-tab]").tab("show"),e.showErrorToast(s.message)):e.showErrorToast(s.message)),s.success){e.showSuccessToast(s.message);var r=parseInt(t(".shortlist-count").text().replace("Shortlist (","").replace(")",""));r+=1,t(".shortlist-count").text("Shortlist ("+r+")"),o.removeClass("fa-heart-o text-primary").addClass("fa-heart text-primary"),o.data("is-checked",!0)}}})})}),e(s).on("load",function(){})}(window,document,jQuery);