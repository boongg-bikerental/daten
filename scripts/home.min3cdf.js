"use strict";!function(e,t,a){a(t).ready(function(t){var a=e.Site;a.run(),t("#responsive-tabs").responsiveTabs({accordionOn:["xs"]}),t("#btn-rent-book").on("click",function(o){o.preventDefault();var l="",s="",r="";""!==t("#startTime").val()?(l=t("#startTime").val(),""!==t("#endTime").val()?(s=t("#endTime").val(),""!==t("#r-location-select").val()?(r=t("#r-location-select").val(),t.ajax({url:"/rent",method:"post",data:{startTime:l,endTime:s,locality:r},success:function(o){if(!o.success){if(void 0!==o.errorCode&&"NOT_LOGGED_IN"===o.errorCode)return t(".loginModal").modal("show"),t("[href=#login-tab]").tab("show"),void a.showErrorToast(o.message);a.showErrorToast(o.message)}if(o.success){a.showSuccessToast(o.message);var l=_SERVER_URL+"/account/rent";e.open(l,"_self")}}})):t("#r-location-select").addClass("search-error")):t("#endTime").addClass("search-error")):t("#startTime").addClass("search-error")}),t("#startTime").datetimepicker({format:"dd/MM/yyyy HH:mm P",showMeridian:!0,autoclose:!0,todayBtn:!0,startDate:new Date,minuteStep:30}).on("changeDate",function(e){t("#startTime").val(e.date)}),t("#endTime").datetimepicker({format:"dd/MM/yyyy HH:mm P",showMeridian:!0,autoclose:!0,todayBtn:!0,startDate:new Date,minuteStep:30}).on("changeDate",function(e){t("#endTime").val(e.date)});var o=!1;t("#hot_deals").bind("click",function(e){e.preventDefault(),o||(t("#hot-deals-sidebar").velocity({translateX:["0%","100%"]},{duration:500},"easeInOutExpo"),t(".overlay").velocity({opacity:.5},{display:"block"},{duration:500},"easeInOutExpo"),t("#hot-deals-sidebar").mCustomScrollbar({theme:"dark"}),t("#hot_deals").removeClass("bounce"),o=!0)}),t("button.close").on("click",function(e){e.preventDefault(),o&&(t("#hot-deals-sidebar").velocity({translateX:["100%","0%"]}),t(".overlay").velocity({opacity:0},{display:"none"},{duration:500},"easeInOutExpo"),o=!1)}),t.fn.select2.defaults.set("theme","bootstrap");var l=t("#b-brand-select"),s=t("#b-model-select");s.select2({placeholder:"Model"}),l.select2({placeholder:"Brand"}),l.on("select2:select",function(e){t.ajax({url:"/brand/get",method:"get",data:{brandName:t(this).val()},success:function(e){if(e){var a=[];s.find("option").remove(),t.each(e.models,function(e,t){a.push({text:t,id:t})}),s.select2({placeholder:"Model",data:a})}}})}),t("#btn-buy-search").on("click",function(a){a.preventDefault();var o="Any",r="Any",c="Any";""!==l.val()&&(o=l.val()),null!==s.val()&&(r=s.val()),""!==t("#b-location-select").val().trim()&&(c=t("#b-location-select").val());var n=_SERVER_URL+"/search/buy/"+o+"/"+r+"/"+c;e.open(n,"_self")}),t("#btn-service-book").on("click",function(a){a.preventDefault();var o="Any",l="Any";if(""!==t("#b-service-select").val()||"Select Plan"!==t("#b-service-select").val())if(o=t("#b-service-select").val(),""!==t("#b-loc-select").val()){l=t("#b-loc-select").val();var s=_SERVER_URL+"/service/"+o+"/"+l;e.open(s,"_self")}else t("#b-loc-select").addClass("search-error");else t("#b-service-select").addClass("search-error")}),t("#btn-rto-book").on("click",function(a){a.preventDefault();var o="Any",l="Any";if(""!==t("#rto-service-select").val())if(o=t("#rto-service-select").val(),""!==t("#rto-loc-select").val()){l=t("#rto-loc-select").val();var s=_SERVER_URL+"/rto/"+o+"/"+l;e.open(s,"_self")}else t("#rto-loc-select").addClass("search-error");else t("#rto-service-select").addClass("search-error")}),t("#b-location-select").select2({placeholder:"Location"}),t('a[data-toggle="tab"]').on("shown.bs.tab",function(e){var a=t(e.target).attr("href");"#rent"===a&&(t("#r-brand-select").select2({placeholder:"Brand"}),t("#r-model-select").select2({placeholder:"Model"}),t("#r-location-select").select2({placeholder:"Location"})),"#servicing"===a&&(t("#b-service-select").select2({placeholder:"Type of Service"}),t("#b-loc-select").select2({placeholder:"Location"})),"#rtowork"===a&&(t("#rto-service-select").select2({placeholder:"Type of Service"}),t("#rto-loc-select").select2({placeholder:"Location"}))})}),a(e).on("load",function(){}),a(".carousel").carousel()}(window,document,jQuery);